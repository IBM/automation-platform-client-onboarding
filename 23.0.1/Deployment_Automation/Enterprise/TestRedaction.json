{
	"fileVersion": "1.0.3",
	"fileLocation": "",
	"requiredToolVersion": ">=1.1.26 <1.2.0",
	"requiredCP4BAVersion": ">=23.1.0 <23.2.0",
	"requiredCP4BAPattern": "Enterprise",
	"actions": [
		{
			"CONTAINER": {
				"enabled": "true",
				"description": "Create plugins in ICN",
				"actions": [
					{
						"FNCM": {
							"enabled": "$$(enableConfigureSWATLabs_FNCM)$$",
							"description": "CPE - Check if GeneralUsers group exist",
							"replaceExistingDocuments": false,
							"objectStoreName": "BAWDOCS",
							"relativeBasePath": "FileNet Content Manager",
							"subActions": [
								{
									"CHECKOBJECTSTOREEXISTS": {
										"enabled": "true",
										"description": "Check Object Store Exists",
										"osSymbolicName": "BAWDOCS",
										"variableName": "contentOSAvailable"
									}
								},
								{
									"CHECKCPEUSERORGROUPEXISTS": {
										"enabled": "$(contentOSAvailable)$",
										"description": "Check if GeneralUsers group exists",
										"variableName": "generalUsersGroupExists",
										"usersAndGroups": [
											{
												"name": "GeneralUsers",
												"type": "group"
											}
										]
									}
								}
							]
						}
					},
					{
						"ICN": {
							"enabled": "$$(enableConfigureSWATLabs_FNCM)$$",
							"name": "Import ICN Desktop for Content/ICN lab into ICN",
							"description": "Navigator - Import 'ICN' desktop used in Content/ICN labs (for CONTENT object store)",
							"relativeBasePath": "Business Automation Navigator",
							"subActions": [
								{
									"DETERMINEREPONAMEFROMOBJECTSTORE": {
										"enabled": "$(contentOSAvailable)$",
										"description": "Determine ICN repository information based on object store symbolic name",
										"osSymbolicName": "BAWDOCS"
									}
								},
								{
									"UPDATEP8REPOSETTINGS": {
										"enabled": "$(contentOSAvailable)$",
										"description": "Update P8 repository settings to enable Entry Template Management and Edit Service",
										"repoId": "$(REPOSITORY_ID)$",
										"allowEntryTemplateManagement": true,
										"enableRedaction": true,
										"enableEditService": true
									}
								},
								{
									"MANAGEREDACTION": {
										"enabled": "true",
										"description": "Manage role-based redaction for driver license for general users for 'CONTENT' repository",
										"repository": "$(REPOSITORY_ID)$",
										"reverseOrder": false,
										"warning": "§IF($(generalUsersGroupExists)$)§()§ELSE§(Group 'GeneralUsers' not found using group '$(generalUsersGroupShort)$' instead which will make the ICN lab instructions not match the groups in this environment)ENDIF§",
										"redactionReasons": [
											{
												"action": "add",
												"name": "Driver License Number",
												"description": "Hide the DL number"
											}
										],
										"redactionRoles": [
											{
												"action": "add",
												"type": "Viewer",
												"name": "viewer group",
												"description": "this viewer group cannot see the sensitive information",
												"entities": [
													{
														"action": "add",
														"entityName": "$$(cp4baAdminUsr)$$",
														"entityType": "User",
														"permission": "Allow"
													}
												]
											},
											{
												"action": "add",
												"type": "Editor",
												"name": "Editor user group roles",
												"description": "this user group helps to redact the sensitive information",
												"entities": [
													{
														"action": "add",
														"entityName": "§IF($(generalUsersGroupExists)$)§(GeneralUsers)§ELSE§($(generalUsersGroupShort)$)ENDIF§",
														"entityType": "Group",
														"permission": "Allow"
													}
												]
											}
										],
										"redactionPolicies": [
											{
												"action": "add",
												"name": "Driver License Policy",
												"description": "Hide the DL sensitive information",
												"reasons": [
													{
														"action": "add",
														"name": "Driver License Number"
													}
												],
												"editors": [
													{
														"action": "add",
														"name": "Editor user group roles"
													}
												],
												"viewers": [
													{
														"action": "add",
														"name": "viewer group"
													}
												]
											}
										]
									}
								},
								{
									"MANAGEREDACTION": {
										"enabled": "true",
										"description": "Manage role-based redaction for driver license for admin users for 'CONTENT' repository",
										"repository": "$(REPOSITORY_ID)$",
										"reverseOrder": false,
										"warning": "§IF($(generalUsersGroupExists)$)§()§ELSE§(Group 'GeneralUsers' not found using group '$(generalUsersGroupShort)$' instead which will make the ICN lab instructions not match the groups in this environment)ENDIF§",
										"redactionReasons": [
											{
												"action": "add",
												"name": "Driver License Number admins",
												"description": "Hide the DL number"
											}
										],
										"redactionRoles": [
											{
												"action": "add",
												"type": "Viewer",
												"name": "viewer group admins",
												"description": "this viewer group cannot see the sensitive information",
												"entities": [
													{
														"action": "add",
														"entityName": "§IF($(generalUsersGroupExists)$)§(GeneralUsers)§ELSE§($(generalUsersGroupShort)$)ENDIF§",
														"entityType": "Group",
														"permission": "Allow"
													}
												]
											},
											{
												"action": "add",
												"type": "Editor",
												"name": "Editor user group roles admins",
												"description": "this user group helps to redact the sensitive information",
												"entities": [
													{
														"action": "add",
														"entityName": "$$(cp4baAdminGroupShort)$$",
														"entityType": "Group",
														"permission": "Allow"
													}
												]
											}
										],
										"redactionPolicies": [
											{
												"action": "add",
												"name": "Driver License Policy Admins",
												"description": "Hide the DL sensitive information",
												"reasons": [
													{
														"action": "add",
														"name": "Driver License Number admins"
													}
												],
												"editors": [
													{
														"action": "add",
														"name": "Editor user group roles admins"
													}
												],
												"viewers": [
													{
														"action": "add",
														"name": "viewer group admins"
													}
												]
											}
										]
									}
								}
							]
						}
					}
				]
			}
		}
	]
}